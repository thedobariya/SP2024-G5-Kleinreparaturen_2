= Entwicklerdokumentation
:project_name: Kleinreparaturen
:toc: left
:toc-title: Inhaltsverzeichnis
:numbered:

[options="header"]
[cols="1, 3, 3"]
|===
|Version | Bearbeitungsdatum   | Autor 
|1.0	|11.05.2024| Pritkumar Dobariya
|1.1  |12.05.2024| Vihar Kheni
|1.3  |20.05.2024| Pascal Jahn
|1.4  |26.05.2024| Philipp Danzmann
|===


== Einführung und Ziele
=== Einführung
Mit Miss Mint Mending Points drängt eine neue Kette von Kleinreparaturbetrieben auf den Markt, die sich nach dem Slogan: "Alles aus einer Hand" durch ein besonders umfassendes Dienstleistungsangebot etablieren möchte. Jeder Miss-Mint-Reparaturbetrieb umfasst:

* eine Flickschusterei (Absätze, Sohlen, Nähte)
* einen Nähservice (Knöpfe, Nähte, Flicken)
* einen Schlüsseldienst (Schlüssel kopieren, Schilder gravieren)
* eine Schnellreinigung und Heißmangel (Wäsche, Anzüge, Leder)
* eine Elektrowerkstatt (Kabel ersetzen, löten)
* eine Scherenschleiferei (Scheren, Messer schärfen)

Laut Geschäftsordnung der Miss Mint Mending Points wird an den Annahmeschaltern der Preis einer gewünschten Dienstleistung sofort ermittelt und vom Kunden im Voraus bezahlt. Der Kunde erhält einen Auftragszettel mit einer eindeutigen Auftragsnummer und dem Fertigstellungstermin. Ab dem Fertigstellungstermin kann die Ware eine Woche lang unter Vorlage des Auftragszettels abgeholt werden. Danach wandert die Ware für drei Monate in eine Aufbewahrungsstelle, wo sie unter Vorlage des Auftragszettels durch Zahlung der Aufbewahrungsgebühr von 1,50 € pro Woche ausgelöst werden kann. Waren, die auch in diesem Zeitraum nicht abgeholt werden, fallen an eine karitative Organisation. Umgekehrt erstattet Miss Mint für jeden vollen Tag, um den sich die Erbringung der Dienstleistung verspätet, 10 Prozent der Reparaturkosten zurück.
Das Miss-Mint-Filialmanagement kümmert sich um die Bereitstellung der Ressourcen (Personal, Arbeitsgerät, Material, Räume) und führt monatlich den Reingewinn (nach Abzug der laufenden Kosten) an die Zentrale ab.
Die Miss-Mint-Kette ist an Software interessiert, welche die Annahme, Reparaturplanung, Ausgabe und Lagerung der Waren sowie die Verwaltung der Ressourcen unterstützt und außerdem dem Filialmanagement laufende und akkumulierte Bilanzen zur Verfügung stellt.


=== Qualitätsziele
*Funktionalität und Zuverlässigkeit:*
Die Web-Anwendung muss alle erforderlichen Funktionen bereitstellen, um die Geschäftsprozesse der Miss Mint Mending Points effektiv zu unterstützen.
Sie muss zuverlässig sein, um einen unterbrechungsfreien Betrieb und eine hohe Verfügbarkeit sicherzustellen.

*Benutzerfreundlichkeit und Effizienz:*
Die Benutzeroberfläche der Web-Anwendung sollte benutzerfreundlich gestaltet sein, um eine einfache und intuitive Nutzung durch die Mitarbeiter zu gewährleisten.
Die Anwendung muss effizient arbeiten und eine schnelle Verarbeitung von Transaktionen ermöglichen, um die Produktivität zu steigern.

*Sicherheit und Wartbarkeit:*
Die Sicherheit der Web-Anwendung ist von entscheidender Bedeutung, um die Vertraulichkeit, Integrität und Verfügbarkeit der Daten zu gewährleisten.
Sie sollte gut strukturiert und dokumentiert sein, um eine einfache Wartung und Weiterentwicklung zu ermöglichen, während sie gleichzeitig vor Bedrohungen wie Cyberangriffen geschützt ist.

*Portabilität und Kompatibilität:*
Als Web-Anwendung sollte die Software plattformübergreifend und auf verschiedenen Geräten und Betriebssystemen nutzbar sein.
Sie sollte mit gängigen Webbrowsern kompatibel sein und eine reibungslose Benutzererfahrung auf Desktops, Laptops, Tablets und Smartphones bieten.


== Randbedingungen
=== Hardware-Spezifikationen
Eine Liste der notwendigen Geräte / Hardware, um die Anwendung auszuführen und zu verwenden.

* Server
* Computer
* Bildschirm
* Tastatur
* Maus


=== Software-Spezifikationen
Eine Liste der notwendigen Software, um die Anwendung auszuführen und zu verwenden.

Die folgende (oder neuere) Java-Version ist erforderlich, um die Anwendung auszuführen:

* Java 17
* Apache Maven (mindestens Version 3.6.3)
* Spring Boot (mindestens Version 2.5.0)

Die folgenden (oder neuere) Browser-Versionen sind erforderlich, um die Anwendung zu verwenden:

* Edge 9.0
* Firefox 8.8
* Google Chrome 9.0
* Opera 7.5

=== Hardware-Anforderungen
Um das Projekt lokal ausführen und entwickeln zu können, sollten die folgenden Mindestanforderungen an die Hardware erfüllt werden:

* Prozessor: Quad-Core CPU, mindestens 2.5 GHz (z.B. Intel Core i5 oder AMD Ryzen 5)
* Arbeitsspeicher (RAM): Mindestens 8 GB RAM
* Festplattenspeicher: Mindestens 20 GB verfügbarer Speicherplatz
* Bildschirm: Mindestens 15 Zoll, 1920 x 1080 Pixel Auflösung


=== Vorgaben zum Betrieb des Software
Dieser Abschnitt gibt einen Überblick darüber, wie das Produkt nach Abschluss verwendet werden soll und unter welchen Umständen.

Das System wird von der Miss Mint Mending Points als Webshop verwendet, um Dienstleistungsangebot (Service) an Kunden zu verkaufen.
Die Software soll auf einem Server ausgeführt und über das Internet (über einen Browser) für interessierte Kunden rund um die Uhr verfügbar sein.

Die Hauptbenutzer der Software sind Mitarbeiter (Coworker), die angeblich typische Website-Navigationsmuster kennen, sowie Administratoren (Management), die nicht unbedingt über technische Kenntnisse verfügen.

Das System soll keine technische Wartung benötigen, da das Personal der Miss Mint Mending Points bereits ausgelastet ist.
Alle Daten sollen dauerhaft in einer Datenbank gespeichert und über die Anwendung zugänglich sein (z. B. sollte für das Management kein SQL-Wissen erforderlich sein).

== Kontextabgrenzung
=== Kontextdiagramm

[[context_diagram_d_c4]]
image::./models/context_diagram.jpg[context diagram c4, 100%, 100%, pdfwidth=100%, title= "Context diagram in C4 notation (Level 1: System Context)", align=center]

== Lösungsstrategie
=== Erfüllung der Qualitätsziele
[options="header"]
|=== 
|Qualitätsziel |Lösungsansatz
|Funktionaliät | Verwendung des Spring Frameworks, insbesondere Spring MVC, um Controller zu definieren und die Anwendungslogik zu implementieren.
Einbindung von Spring Data für die Datenbankintegration, um die Persistenzschicht zu verwalten und den Zugriff auf die Datenbank zu erleichtern.
|Benutzerfreundlichkeit | Nutzung von Thymeleaf zur Gestaltung der Benutzeroberfläche, was eine einfache Integration von Java-Code in HTML-Templates ermöglicht.
|Sicherheit | Integration von Spring Security, um benutzerdefinierte Authentifizierungs- und Autorisierungsschemata zu implementieren und die Anwendung vor Sicherheitsbedrohungen zu schützen.
| Kompatibilität |Entwickeln der Anwendung in Java für plattformunabhängige Ausführung auf verschiedenen Betriebssystemen und Geräten.
Einsatz von Thymeleaf für serverseitiges Rendern von Templates, um eine konsistente Benutzererfahrung auf verschiedenen Geräten und Browsern sicherzustellen.
|===

=== Softwarearchitektur

[[client_server_diagram]]

image::./models/client_server.jpg[context diagram c4, 100%, 100%, pdfwidth=100%, title= "Client Server Model of the application. The client only contains HTML and CSS files. The application logic is implemented on the server", align=center]

*Erklärung:* HTML-Vorlagen werden auf dem Server gerendert und vom Client mit ihren entsprechenden CSS-Stylesheets angezeigt. Die in den Vorlagen angezeigten Daten werden von Thymeleaf bereitgestellt. Thymeleaf empfängt die angeforderten Daten durch die Controller-Klassen, die im Backend implementiert sind. Diese Controller-Klassen verwenden wiederum Instanzen und Methoden der Model-Klassen. Standardmäßig speichert eine zugrunde liegende H2-Datenbank Daten dauerhaft.


=== Entwurfsentscheidungen
==== Entwurfsmuster
* Spring MVC

==== Persistenz
Die Anwendung verwendet *Hibernate annotation based mapping*, um Java-Klassen auf Datenbanktabellen abzubilden. Als Datenbank wird *H2* verwendet.

Die Persistenz ist standardmäßig ausgeschaltet. Um die Persistenzspeicherung zu aktivieren, müssen die folgenden zwei Zeilen in der Datei _application.properties_ auskommentiert werden:
....
# spring.datasource.url=jdbc:h2:./db/videoshop
# spring.jpa.hibernate.ddl-auto=update
....


==== Benutzeroberfläche
[[user-interface]]
image::./models/UI_Diagramm_V2.jpg[UI Diagram, 100%, 100%, pdfwidth=100%, title= "Dialog Map of the kleinreparatur_service Service", align=center]

NOTE: Die gelben Kästchen innerhalb der Vorlagen stellen Schaltflächen dar, die zu den Vorlagen weiterleiten, deren ausgehende Pfeile auf._ zeigen.


* Verwendung externer Frameworks

[options="header", cols="1,2"]
|===
|Externes Package |Verwendet von 
|Spring Boot|General purpose 
|Spring Data JPA|Persistence
|Spring Security|Security
|Semantic UI|UI
|Thymeleaf|UI
|jQuery|UI
|===

== Bausteinsicht
* Package-Diagramm
* Entwurfsklassendiagramme der einzelnen Packages

=== User
image::./models/BlockViewUser.jpg[UI Diagram, 100%, 100%, pdfwidth=100%, title= "User Block-View-Diagramm", align=center]

[options="header"]
|===
|Class/Enumeration |Description
|User| Klasse erweiter Salespoint-UserAccount mit zusätzlichen Eigenschaften
|UserController| Ein Spring MVC Controller behandeln von Aktionen die User betreffen 
|UserDatainitializer| Ein Datainitializer der Dummy User beim Application start erstellt
|UserManagement| Eine Klasse für das Verwalten von User
|UserRepository| Ein Repository-Interface um einzelne  User Interfaces zu behandeln und speichern
|RegistrationFrom| ein Interface um die Eingaben bei Registriegung von einem User zu prüfen
|===

=== Depot
image::./models/DepotController.drawio.png[UI Diagram, 100%, 100%, pdfwidth=100%, title= "Depot Block-View-Diagramm", align=center]

=== Order
image::./models/OrderController.jpg[UI Diagram, 100%, 100%, pdfwidth=100%, title= "Order Block-View-Diagramm", align=center]

[options="header"]
|===
|Class/Enumeration |Description
|OrderController|Ein Spring MVC Controller für den Warenkorb
|===

=== Item
image::./models/Komponentendiagramm-Item.png[UI Diagram, 100%, 100%, pdfwidth=100%, title= "Item Block-View-Diagramm", align=center]

[options="header"]
|===
|Class/Enumeration |Description
|ItemController|Diese Klasse ist für die Verwaltung der Artikel zuständig und enthält Methoden zur Initialisierung der Artikelliste, zum Hinzufügen, Löschen und Auflisten von Artikeln sowie zur Verwaltung von Artikelbedingungen, -mengen und zur Berechnung von Artikeln.
|Items|Eine Sammlung von Artikeln, die im ItemController verwendet wird.
|Order|Eine Komponente, die Bestellungen verwaltet und mit Artikeln in Beziehung steht.
|Item DB|Eine Datenbankkomponente, die Artikel speichert und vom ItemController verwendet wird.
|===

=== Service
image::./models/DeveloperDocumentation_Catalog-BuildingblockView.jpg[UI Diagram, 100%, 100%, pdfwidth=100%, title= "Service Block-View-Diagramm", align=center]

=== Customer
image::./models/BuildingBlockView_Customer.jpg[UI Diagram, 100%, 100%, pdfwidth=100%, title= "Service Block-View-Diagramm", align=center]

== Laufzeitsicht
* Darstellung der Komponenteninteraktion anhand eines Sequenzdiagramms, welches die relevantesten Interaktionen darstellt.

=== User
image::./models/SequenzdiagrammUser.jpg[UI Diagram, 100%, 100%, pdfwidth=100%, title= "User Sequenzdiagramm", align=center]

=== Depot
image::./models/Seq Diagram Depot.png[UI Diagram, 100%, 100%, pdfwidth=100%, title= "Depot Sequenzdiagramm", align=center]

=== Order
image::./models/SequenzdiagrammOrder.jpg[UI Diagram, 100%, 100%, pdfwidth=100%, title= "Order Sequenzdiagramm", align=center]

=== Item
image::./models/SequenzdiagrammItem.png[UI Diagram, 100%, 100%, pdfwidth=100%, title= "Item Sequenzdiagramm", align=center]

=== Service
image::./models/Runtime View Catalog.png[UI Diagram, 100%, 100%, pdfwidth=100%, title= "Service Sequenzdiagramm", align=center]

=== Customer
image::./models/design/RunTimeView_Customer.png[UI Diagram, 100%, 100%, pdfwidth=100%, title= "Service Sequenzdiagramm", align=center]
